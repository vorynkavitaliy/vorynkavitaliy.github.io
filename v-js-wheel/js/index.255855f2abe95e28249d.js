!function(){"use strict";var t,e={7687:function(t,e,n){var r={props:{tag:{type:String,default:"button"},color:{type:String,default:"primary"},disable:{type:Boolean,default:!1},click:Function},methods:{handleClick:function(){this.$emit("click")}}},a=n(810),o=(0,a.Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"span"===t.tag?n("span",{staticClass:"btn",class:t.color&&"btn-"+t.primary,on:{click:t.handleClick}},[t._t("default")],2):"a"===t.tag?n("a",{staticClass:"btn",class:t.color&&"btn-"+t.primary,on:{click:t.handleClick}},[t._t("default")],2):n("button",{staticClass:"btn",class:[t.color,t.disable&&"info"],attrs:{disabled:t.disable},on:{click:t.handleClick}},[t._t("default")],2)}),[],!1,null,"1a8f7b6b",null).exports,l={name:"v-container"},i=(0,a.Z)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"container"},[t._t("default")],2)}),[],!1,null,"d4d5d92c",null).exports,s={name:"VLayout",props:{flex:{type:Boolean,default:!1},between:{type:Boolean,default:!1},around:{type:Boolean,default:!1},jcenter:{type:Boolean,default:!1},acenter:{type:Boolean,default:!1},grid:{type:Boolean,default:!1},xd:{type:String,default:""},sd:{type:String,default:""},msd:{type:String,default:""},md:{type:String,default:""},lmd:{type:String,default:""},ld:{type:String,default:""},mld:{type:String,default:""},xld:{type:String,default:""}}},c=(0,a.Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!0===t.flex?n("div",{staticClass:"flex-container",class:[t.between&&"space-between",t.around&&"space-around",t.jcenter&&"space-center",t.acenter&&"align-center"]},[t._t("default")],2):!0===t.grid?n("div",{staticClass:"grid-container",class:[t.xd&&"cols-xd-"+t.xd,t.sd&&"cols-sd-"+t.sd,t.msd&&"cols-msd-"+t.msd,t.md&&"cols-md-"+t.md,t.lmd&&"cols-lmd-"+t.lmd,t.ld&&"cols-ld-"+t.ld,t.lmd&&"cols-lmd-"+t.lmd,t.xld&&"cols-xld-"+t.xld]},[t._t("default")],2):t._e()}),[],!1,null,null,null).exports,u={props:{xxd:{type:String,default:"12"},xd:{type:String,default:""},sd:{type:String,default:""},msd:{type:String,default:""},md:{type:String,default:""},lmd:{type:String,default:""},ld:{type:String,default:""},mld:{type:String,default:""},xld:{type:String,default:""}}},d=(0,a.Z)(u,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:[t.xxd&&"col-"+t.xxd,t.xd&&"col-xd-"+t.xd,t.sd&&"col-sd-"+t.sd,t.msd&&"col-msd-"+t.msd,t.md&&"col-md-"+t.md,t.lmd&&"col-lmd-"+t.lmd,t.ld&&"col-ld-"+t.ld,t.lmd&&"col-lmd-"+t.lmd,t.xld&&"col-xld-"+t.xld]},[t._t("default")],2)}),[],!1,null,null,null).exports,f=(0,a.Z)({},undefined,undefined,!1,null,null,null).exports,h={props:{isShow:{type:Boolean,default:!1}}},m={VBtn:o,VText:f,VContainer:i,VLayout:c,VCol:d,VModal:(0,a.Z)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("v-layout",{staticClass:"v-modal",attrs:{flex:"",acenter:"",jcenter:""}},[n("v-container",[t._t("default")],2)],1):t._e()}),[],!1,null,"4e5fa2ce",null).exports},p=n(8297),g={data:function(){return{colors:["#F84","#8F4","#48F","#F8F"]}},computed:{sections:function(){return this.$store.getters.items},angle:function(){return this.$store.getters.angle},winner:function(){return this.$store.getters.winner}},mounted:function(){this.$store.commit("setCanvas",this.$refs.canvas),this.repaint()},methods:{repaint:function(){this.$store.commit("repaint",{angle:this.angle,canvas:this.$refs.canvas,colors:this.colors})}}},v={components:{Wheel:(0,a.Z)(g,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{staticClass:"column",attrs:{flex:""}},[e("canvas",{ref:"canvas",staticClass:"wheel m-a",attrs:{id:"canvas"}})])}),[],!1,null,"4fcf9974",null).exports},computed:{sections:function(){return this.$store.getters.items},running:function(){return this.$store.getters.running},winner:function(){return this.$store.getters.winner},angle:function(){return this.$store.getters.angle},colors:function(){return this.$store.getters.colors},canvas:function(){return this.$store.getters.canvas},showModal:function(){return this.$store.getters.showModal},disable:function(){return this.$store.getters.btnAble},picture:function(){return this.$store.getters.picture}},methods:{spin:function(){if(!this.running){this.$store.dispatch("getPicture");var t=Math.random()*this.sections.length|0;this.$store.commit("setWinner",t+1),this.$store.commit("spinTo",{winner:t,duration:1e3,repaint:{angle:this.angle,canvas:this.canvas,colors:this.colors}})}this.showModal&&this.$store.commit("setShowModal",!1)},closeModal:function(){this.$store.commit("setShowModal",!1)}}},b=(0,a.Z)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("main",[n("v-container",[n("v-col",{staticClass:"m-a",attrs:{msd:"8"}},[n("Wheel")],1),t._v(" "),n("v-col",{staticClass:"mh-a mv-3",attrs:{xxd:"6",msd:"4"}},[n("v-btn",{attrs:{color:"primary",disable:t.disable},on:{click:t.spin}},[t._v("Rotate")])],1)],1)],1),t._v(" "),n("v-modal",{attrs:{isShow:t.showModal}},[n("div",{staticClass:"inner"},[n("header",{staticClass:"mb-3"},[n("v-layout",{attrs:{flex:"",between:"",acenter:""}},[n("h3",{staticClass:"mh-a"},[t._v("You are win!!!")]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("v-btn",{attrs:{color:"danger"},on:{click:t.closeModal}},[t._v("Ã—")])],1)])],1),t._v(" "),n("v-layout",{staticClass:"inner-content",attrs:{grid:"",xd:"1",msd:"2"}},[n("article",[n("div",{staticClass:"picture"},[n("img",{attrs:{src:t.picture,alt:"result"}})])]),t._v(" "),n("v-layout",{staticClass:"inner-winner",attrs:{flex:"",acenter:"",jcenter:""}},[n("span",{staticClass:"result"},[t._v("\n                        "+t._s(t.winner)+"\n                    ")])])],1),t._v(" "),n("v-col",{staticClass:"mh-a mt-3",attrs:{xxd:"6",msd:"3"}},[n("v-btn",{attrs:{color:"primary",disable:t.disable},on:{click:t.spin}},[t._v("Rotate")])],1)],1)])],1)}),[],!1,null,"8b079316",null).exports,w=n(7382),y={state:{wheels:null,frame:null,canvas:null,colors:["#F84","#8F4","#48F","#F8F"]},mutations:{setCanvas:function(t,e){return t.canvas=e},repaint:function(t,e){var n=Math.min(innerWidth/2,innerHeight/2)/2.25|0,r=this.getters.items;if(null===t.wheels){t.wheels=[];for(var a=0;a<r.length;a++){var o=document.createElement("canvas");o.width=o.height=2*n+10;var l=o.getContext("2d"),i=5+n,s=5+n,c=l.createRadialGradient(i,s,0,i,s,n);c.addColorStop(0,"rgba(0,0,0,0)"),c.addColorStop(1,"rgba(0,0,0,0.5)");for(var u=0;u<r.length;u++){var d=2*Math.PI*u/r.length,f=d+2*Math.PI/(0==u?1:r.length),h=2*Math.PI*(u+.5)/r.length;l.beginPath(),l.moveTo(i,s),l.arc(i,s,n,d,f,!1),l.fillStyle=e.colors[u%4],l.fill(),l.fillStyle=c,l.fill(),l.save(),u==a?(l.fillStyle="#FFF",l.shadowColor="#FFF",l.shadowBlur=n/20):(l.fillStyle="#AAA",l.shadowColor="#000",l.shadowBlur=n/100),l.font="bold "+n/r.length*1.6+"px serif",l.textAlign="center",l.textBaseline="middle",l.translate(i,s),l.rotate(h),l.fillText(r[u],.62*n,0),l.restore()}t.wheels.push(o)}}if(null===t.frame){t.frame=document.createElement("canvas"),t.frame.width=t.frame.height=10+2*n*1.25|0;var m=t.frame.getContext("2d"),p=t.frame.width/2,g=t.frame.height/2;m.shadowOffsetX=n/80,m.shadowOffsetY=n/80,m.shadowBlur=n/40,m.shadowColor="rgba(0,0,0,0.5)",m.beginPath(),m.arc(p,g,1.025*n,0,2*Math.PI,!0),m.arc(p,g,.975*n,0,2*Math.PI,!1),m.fillStyle="#444",m.fill(),m.shadowOffsetX=n/40,m.shadowOffsetY=n/40;var v=m.createRadialGradient(p-n/7,g-n/7,0,p,g,n/3);v.addColorStop(0,"#FFF"),v.addColorStop(.2,"#F44"),v.addColorStop(1,"#811"),m.fillStyle=v,m.beginPath(),m.arc(p,g,n/3.5,0,2*Math.PI,!1),m.fill(),m.translate(p,g),m.rotate(Math.PI-.2),m.beginPath(),m.moveTo(1.1*-n,.05*-n),m.lineTo(.9*-n,0),m.lineTo(1.1*-n,.05*n),m.fillStyle="#F44",m.fill()}e.canvas.width=innerWidth/2,e.canvas.height=innerHeight/2;var b=innerWidth/4,w=innerHeight/4,y=e.canvas.getContext("2d"),x=Math.floor((-.2-e.angle)*r.length/(2*Math.PI))%r.length;x<0&&(x+=r.length),y.save(),y.translate(b,w),y.rotate(e.angle),y.translate(-t.wheels[x].width/2,-t.wheels[x].height/2),y.drawImage(t.wheels[x],0,0),y.restore(),y.drawImage(t.frame,b-t.frame.width/2,w-t.frame.height/2)}},getters:{canvas:function(t){return t.canvas},colors:function(t){return t.colors}}};function x(t,e,n,r,a,o,l){try{var i=t[o](l),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,a)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}p.Z.use(w.ZP);var _=new w.ZP.Store({state:{items:["1","2","3","4","5","6"],winner:0,angle:0,running:null,showModal:!1,btnAble:!1,picture:null},mutations:{setWinner:function(t,e){return t.winner=e},setAngle:function(t,e){return t.angle=e},setBtn:function(t,e){return t.btnAble=e},setShowModal:function(t,e){return t.showModal=e},setPicture:function(t,e){return t.picture=e},spinTo:function(t,e){var n=this,r=e.winner,a=e.duration,o=e.repaint,l=-.2-2*(.5+r)*Math.PI/t.items.length,i=t.angle-2*Math.floor(t.angle/(2*Math.PI))*Math.PI-10*Math.PI,s=performance.now();requestAnimationFrame((function e(){var r=performance.now(),c=Math.min(1,(r-s)/a),u=i+(c=3*c*c-2*c*c*c)*(l-i);n.commit("setAngle",u),n.commit("repaint",C(C({},o),{},{angle:t.angle})),c<1?(requestAnimationFrame(e),n.commit("setBtn",!0)):(t.running=!1,setTimeout((function(){n.commit("setShowModal",!0),n.commit("setBtn",!1)}),200))})),t.running=!0}},actions:{getPicture:function(t){return(e=regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,fetch("https://source.unsplash.com/random");case 4:r=e.sent,a=r.url,n("setPicture",a),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(t){x(o,r,a,l,i,"next",t)}function i(t){x(o,r,a,l,i,"throw",t)}l(void 0)}))})();var e}},getters:{items:function(t){return t.items},winner:function(t){return t.winner},running:function(t){return t.running},angle:function(t){return t.angle},showModal:function(t){return t.showModal},btnAble:function(t){return t.btnAble},picture:function(t){return t.picture}},modules:{wheel:y}});function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=t[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}p.Z.config.productionTip=!1,Object.entries(m).forEach((function(t){var e=P(t,2),n=e[0],r=e[1];p.Z.component(n,r)})),new p.Z({store:_,render:function(t){return t(b)}}).$mount("#app")}},n={};function r(t){var a=n[t];if(void 0!==a)return a.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.m=e,t=[],r.O=function(e,n,a,o){if(!n){var l=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],o=t[c][2];for(var i=!0,s=0;s<n.length;s++)(!1&o||l>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[s])}))?n.splice(s--,1):(i=!1,o<l&&(l=o));i&&(t.splice(c--,1),e=a())}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,a,o]},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={826:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,o,l=n[0],i=n[1],s=n[2],c=0;for(a in i)r.o(i,a)&&(r.m[a]=i[a]);for(s&&s(r),e&&e(n);c<l.length;c++)o=l[c],r.o(t,o)&&t[o]&&t[o][0](),t[l[c]]=0;r.O()},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),r.O(void 0,[403],(function(){return r(1202)}));var a=r.O(void 0,[403],(function(){return r(7687)}));a=r.O(a)}();